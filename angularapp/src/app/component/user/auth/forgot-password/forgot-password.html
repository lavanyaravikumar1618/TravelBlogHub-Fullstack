<div class="login-wrapper">
  <div class="login-form-section">
    <div class="login-card">
      <div class="logo-section">
        <div class="logo-icon">🔑</div>
        <h1 class="title">Reset Password</h1>
        <p class="subtitle">Enter your new password below</p>
      </div>

      <form (ngSubmit)="onSubmit()" #forgotForm="ngForm" class="login-form" novalidate>
        <!-- Error Message -->
        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>

        <!-- Success Message -->
        <div class="success-message" *ngIf="successMessage">
          {{ successMessage }}
        </div>

        <!-- New Password -->
        <div class="form-group">
          <div class="input-wrapper">
            <span class="input-icon">🔒</span>
            <input
              type="password"
              id="newPassword"
              name="newPassword"
              [(ngModel)]="newPassword"
              minlength="8"
              required
              placeholder="New password (min 8 chars)"
              #newPw="ngModel"
            />
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="form-group">
          <div class="input-wrapper">
            <span class="input-icon">🔁</span>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              [(ngModel)]="confirmPassword"
              required
              placeholder="Confirm new password"
              #confirmPw="ngModel"
            />
          </div>
          <div class="field-help" *ngIf="passwordsMismatch && (confirmPw.touched || newPw.touched)" style="color:#c33; font-size:13px; margin-top:6px;">
            Passwords do not match.
          </div>
        </div>

        <!-- Submit -->
        <button type="submit" [disabled]="!forgotForm.form.valid || isLoading || passwordsMismatch" class="btn-login">
          <span class="btn-text" *ngIf="!isLoading">Set New Password</span>
          <span class="btn-text" *ngIf="isLoading">Processing...</span>
          <span class="btn-icon" *ngIf="!isLoading">🔐</span>
          <span class="btn-icon" *ngIf="isLoading">⏳</span>
        </button>
      </form>

      <div class="login-links">
        <p>Remembered your password? 
          <a routerLink="/user-login" class="register-link">Back to Login</a>
        </p>
      </div>
    </div>
  </div>
</div>
